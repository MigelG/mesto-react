{"version":3,"sources":["images/logo/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","cardLikeButtonClassName","_id","name","link","likes","onCardClick","owner","onCardLike","onCardDelete","currentUser","useContext","isOwn","some","i","onClick","id","type","length","Main","props","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","card","Footer","ImagePopup","onPopupClick","isOpen","onClose","PopupWithForm","title","onSubmit","noValidate","children","button","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","minLength","maxLength","onUpdateAvatar","avatarRef","useRef","current","ref","setLink","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","getUserInfo","getCardList","fetch","then","_checkResponse","data","method","body","JSON","stringify","res","ok","json","reject","authorization","App","setCurrentUser","setCards","handlePopupClick","event","classList","contains","closeAllPopups","console","log","catch","statusText","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isBigImagePopupOpen","setIsBigImagePopupOpen","selectedCard","setSelectedCard","handleCardClick","handleEsc","key","document","addEventListener","removeEventListener","Provider","onImagePopup","isLiked","likeCard","newCard","state","c","deleteCard","filter","user","saveUserInfo","AddPlacePopup","addCard","EditAvatarPopup","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uMAAe,MAA0B,iC,OCU1BA,MARf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACI,qBAAKC,IAAKC,EAAMC,IAAI,6CAAUH,UAAU,oBCHvCI,EAAqBC,IAAMC,gBCwCzBC,MAvCf,YAAyF,IAIjFC,EAJQC,EAAwE,EAAxEA,IAAKC,EAAmE,EAAnEA,KAAMC,EAA6D,EAA7DA,KAAMC,EAAuD,EAAvDA,MAAOC,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAC9DC,EAAcZ,IAAMa,WAAWd,GAC/Be,EAAQL,EAAML,MAAQQ,EAAYR,IAoBxC,OAnBgBG,EAAMQ,MAAK,SAAAC,GAAC,OAAIA,EAAEZ,MAAQQ,EAAYR,SAGlDD,EAA0B,6BAiB1B,0BAASR,UAAU,QAAnB,UACKmB,GAAS,wBAAQG,QAN1B,WACIN,EAAa,CAAEO,GAAId,KAK+Be,KAAK,SAASxB,UAAU,gCACtE,qBAAKA,UAAU,yBAAf,SACI,qBAAKsB,QAhBjB,WACIT,EAAY,CAAEH,OAAMC,OAAME,iBAeSb,UAAU,eAAeC,IAAKU,EAAMR,IAAKO,MAExE,sBAAKV,UAAU,iBAAf,UACI,oBAAIA,UAAU,eAAd,SAA8BU,IAC9B,gCACI,wBAAQY,QAjBxB,WACIP,EAAW,CAAEN,MAAKG,WAgB4BY,KAAK,SAASxB,UAAS,oCAA+BQ,KACxF,mBAAGR,UAAU,oBAAb,SAAkCY,EAAMa,mBCM7CC,MArCf,SAAcC,GACV,IAAMV,EAAcZ,IAAMa,WAAWd,GAErC,OACI,uBAAMJ,UAAU,OAAhB,UACI,0BAASA,UAAU,UAAnB,UACI,qBAAKsB,QAASK,EAAMC,aAAc5B,UAAU,kBAA5C,SACI,qBAAKA,UAAU,eAAeC,IAAKgB,EAAYY,OAAQ1B,IAAI,uDAG/D,sBAAKH,UAAU,gBAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmCiB,EAAYP,OAC/C,wBAAQY,QAASK,EAAMG,cAAeN,KAAK,SAASxB,UAAU,gCAC9D,mBAAGA,UAAU,eAAb,SAA6BiB,EAAYc,WAE7C,wBAAQT,QAASK,EAAMK,WAAYR,KAAK,SAASxB,UAAU,kCAG/D,yBAASA,UAAU,SAAnB,SAEQ2B,EAAMM,MAAMC,KAAI,SAACC,GAAD,OAAU,cAAC,EAAD,CAEtB1B,IAAK0B,EAAK1B,IACVC,KAAMyB,EAAKzB,KACXC,KAAMwB,EAAKxB,KACXC,MAAOuB,EAAKvB,MACZC,YAAac,EAAMd,YACnBC,MAAOqB,EAAKrB,MACZC,WAAYY,EAAMZ,WAClBC,aAAcW,EAAMX,cARfmB,EAAK1B,cCnBnB2B,MANf,WACI,OACI,wBAAQpC,UAAU,SAAlB,qCCWOqC,MAbf,SAAoBV,GAEhB,OACI,qBAAKL,QAASK,EAAMW,aAActC,UAAS,qCAAgC2B,EAAMY,OAAS,eAAiB,IAA3G,SACI,sBAAKvC,UAAU,mDAAf,UACI,wBAAQsB,QAASK,EAAMa,QAAShB,KAAK,SAASxB,UAAU,kEACxD,qBAAKA,UAAU,eAAeC,IAAK0B,EAAMQ,KAAKxB,KAAMR,IAAKwB,EAAMQ,KAAKzB,OACpE,mBAAGV,UAAU,iBAAb,SAA+B2B,EAAMQ,KAAKzB,aCQ3C+B,MAff,SAAuBd,GACnB,OACI,qBAAKL,QAASK,EAAMW,aAActC,UAAS,2BAAsB2B,EAAMjB,KAA5B,YAAoCiB,EAAMY,OAAS,eAAiB,IAA/G,SACI,sBAAKvC,UAAS,iDAA4C2B,EAAMjB,MAAhE,UACI,wBAAQY,QAASK,EAAMa,QAAShB,KAAK,SAASxB,UAAU,+BACxD,oBAAIA,UAAU,eAAd,SAA8B2B,EAAMe,QACpC,uBAAMC,SAAUhB,EAAMgB,SAAUjC,KAAMiB,EAAMjB,KAAMV,UAAU,cAAc4C,YAAU,EAApF,UACKjB,EAAMkB,SACP,wBAAQrB,KAAK,SAASxB,UAAU,uBAAhC,SAAwD2B,EAAMmB,kBCyCnEC,MA7Cf,YAA4E,IAAhDR,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,QAASF,EAA8B,EAA9BA,aAAcU,EAAgB,EAAhBA,aACjD/B,EAAcZ,IAAMa,WAAWd,GACrC,EAAwB6C,mBAAS,IAAjC,mBAAOvC,EAAP,KAAawC,EAAb,KACA,EAAsCD,mBAAS,IAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KAuBA,OALA/C,IAAMgD,WAAU,WACZH,EAAQjC,EAAYP,MACpB0C,EAAenC,EAAYc,SAC5B,CAACd,IAGA,eAAC,EAAD,CACIP,KAAK,OACLgC,MAAM,4HACNI,OAAO,yDACPH,SAlBR,SAAsBW,GAClBA,EAAEC,iBACFP,EAAa,CACTtC,OACAqB,MAAOoB,KAePZ,OAAQA,EACRC,QAASA,EACTF,aAAcA,EAPlB,UAQI,uBAAOkB,MAAO9C,GAAQ,GAAI+C,SA9BlC,SAA0BH,GACtBJ,EAAQI,EAAEI,OAAOF,QA6ByCjC,GAAG,OAAOC,KAAK,OAAOd,KAAK,OAAOiD,YAAY,gEAChG3D,UAAU,sCAAsC4D,UAAQ,EAACC,UAAU,IAAIC,UAAU,OACrF,sBAAMvC,GAAG,aAAavB,UAAU,iBAChC,uBAAOwD,MAAOL,GAAe,GAAIM,SA7BzC,SAAiCH,GAC7BF,EAAeE,EAAEI,OAAOF,QA4BgDjC,GAAG,QAAQC,KAAK,OAAOd,KAAK,QAAQiD,YAAY,8FAChH3D,UAAU,qCAAqC4D,UAAQ,EAACC,UAAU,IAAIC,UAAU,QACpF,sBAAMvC,GAAG,cAAcvB,UAAU,qBCf9B+C,MA1Bf,YAA8E,IAAlDR,EAAiD,EAAjDA,OAAQC,EAAyC,EAAzCA,QAASF,EAAgC,EAAhCA,aAAcyB,EAAkB,EAAlBA,eACjDC,EAAY3D,IAAM4D,SASxB,OACI,eAAC,EAAD,CACIvD,KAAK,SACLgC,MAAM,wFACNI,OAAO,yDACPH,SAZR,SAAsBW,GAClBA,EAAEC,iBACFQ,EAAe,CACXlC,OAAQmC,EAAUE,QAAQV,SAU1BjB,OAAQA,EACRC,QAASA,EACTF,aAAcA,EAPlB,UAQI,uBAAO6B,IAAKH,EAAWzC,GAAG,SAASC,KAAK,MAAMd,KAAK,SAASiD,YAAY,kFACpE3D,UAAU,wCAAwC4D,UAAQ,IAC9D,sBAAMrC,GAAG,eAAevB,UAAU,qBCkB/B+C,MAvCf,YAA0E,IAA9CR,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,QAASF,EAA4B,EAA5BA,aAAcN,EAAc,EAAdA,WACvD,EAAwBiB,mBAAS,IAAjC,mBAAOvC,EAAP,KAAawC,EAAb,KACA,EAAwBD,mBAAS,IAAjC,mBAAOtC,EAAP,KAAayD,EAAb,KAkBA,OACI,eAAC,EAAD,CACI1D,KAAK,MACLgC,MAAM,gEACNI,OAAO,6CACPH,SAbR,SAAsBW,GAClBA,EAAEC,iBACFvB,EAAW,CACPtB,OACAC,UAUA4B,OAAQA,EACRC,QAASA,EACTF,aAAcA,EAPlB,UAQI,uBAAOkB,MAAO9C,EAAM+C,SAzB5B,SAA0BH,GACtBJ,EAAQI,EAAEI,OAAOF,QAwBmCjC,GAAG,YAAYC,KAAK,OAAOd,KAAK,OAAOiD,YAAY,mDAC/F3D,UAAU,uCAAuC4D,UAAQ,EAACC,UAAU,IAAIC,UAAU,OACtF,sBAAMvC,GAAG,kBAAkBvB,UAAU,iBACrC,uBAAOwD,MAAO7C,EAAM8C,SAxB5B,SAA0BH,GACtBc,EAAQd,EAAEI,OAAOF,QAuBmCjC,GAAG,OAAOC,KAAK,MAAMd,KAAK,OAAOiD,YAAY,qGACzF3D,UAAU,sCAAsC4D,UAAQ,IAC5D,sBAAMrC,GAAG,aAAavB,UAAU,qB,cC6C7BqE,EARH,I,WAzER,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAC9BC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,8CAGpB,WACI,OAAOI,QAAQC,IAAI,CAACJ,KAAKK,cAAeL,KAAKM,kB,yBAGjD,WACI,OAAOC,MAAMP,KAAKC,SAAW,SAAU,CACnCF,QAASC,KAAKE,WAEbM,KAAKR,KAAKS,kB,qBAGnB,SAAQC,GACJ,OAAOH,MAAMP,KAAKC,SAAW,SAAU,CACnCU,OAAQ,OACRZ,QAASC,KAAKE,SACdU,KAAMC,KAAKC,UAAUJ,KAEpBF,KAAKR,KAAKS,kB,yBAGnB,WACI,OAAOF,MAAMP,KAAKC,SAAW,YAAa,CACtCF,QAASC,KAAKE,WAEbM,KAAKR,KAAKS,kB,0BAGnB,SAAaC,GACT,OAAOH,MAAMP,KAAKC,SAAW,YAAa,CACtCU,OAAQ,QACRZ,QAASC,KAAKE,SACdU,KAAMC,KAAKC,UAAUJ,KAEpBF,KAAKR,KAAKS,kB,wBAGnB,SAAW1D,GACP,OAAOwD,MAAMP,KAAKC,SAAL,iBAA0BlD,GAAM,CACzC4D,OAAQ,SACRZ,QAASC,KAAKE,WAEbM,KAAKR,KAAKS,kB,sBAGnB,SAAS1D,EAAI4D,GACT,OAAOJ,MAAMP,KAAKC,SAAL,uBAAgClD,GAAM,CAC/C4D,OAAO,GAAD,OAAKA,GACXZ,QAASC,KAAKE,WAEbM,KAAKR,KAAKS,kB,wBAGnB,SAAWpD,GACP,OAAOkD,MAAMP,KAAKC,SAAW,mBAAoB,CAC7CU,OAAQ,QACRZ,QAASC,KAAKE,SACdU,KAAMC,KAAKC,UAAUzD,KAEpBmD,KAAKR,KAAKS,kB,4BAGnB,SAAeM,GACX,OAAIA,EAAIC,GAAaD,EAAIE,OAClBd,QAAQe,OAAOH,O,KAKlB,CAAQ,CAChBjB,QAAS,8CACTC,QAAS,CACLoB,cAAe,uCACf,eAAgB,sBCyHTC,MA5Lf,WACE,MAAsC3C,mBAAS,IAA/C,mBAAOhC,EAAP,KAAoB4E,EAApB,KACA,EAA0B5C,mBAAS,IAAnC,mBAAOhB,EAAP,KAAc6D,EAAd,KAiDA,SAASC,EAAiBC,GACpBA,EAAMtC,OAAOuC,UAAUC,SAAS,UAClCC,IAhDJ9C,qBAAU,WACRgB,EAAIS,cACDE,MAAK,SAAAE,GACJkB,QAAQC,IAAInB,GACZY,EAASZ,MAEVoB,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,kBAE3C,IAGHlD,qBAAU,WACRgB,EAAIQ,cACDG,MAAK,SAAAE,GACJW,EAAeX,MAEhBoB,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,kBAE3C,IAiCH,MAA4DtD,oBAAS,GAArE,mBAAOuD,EAAP,KAA+BC,EAA/B,KACA,EAAsDxD,oBAAS,GAA/D,mBAAOyD,EAAP,KAA4BC,EAA5B,KACA,EAA0D1D,oBAAS,GAAnE,mBAAO2D,EAAP,KAA8BC,EAA9B,KACA,EAAsD5D,oBAAS,GAA/D,mBAAO6D,EAAP,KAA4BC,EAA5B,KACA,EAAwC9D,mBAAS,IAAjD,mBAAO+D,EAAP,KAAqBC,EAArB,KAcA,SAASC,EAAgB/E,GACvB8E,EAAgB9E,GAChB4E,GAAuB,GAGzB,SAASZ,IACPU,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBI,GAAuB,GAyDzB,OAjBA1D,qBAAU,WACR,GAAImD,GAA0BE,GAAuBE,GAAyBE,EAAqB,CAEjG,SAASK,EAAUnB,GACC,WAAdA,EAAMoB,KACRjB,IAMJ,OAFAkB,SAASC,iBAAiB,UAAWH,GAE9B,WACLE,SAASE,oBAAoB,UAAWJ,OAG3C,CAACX,EAAwBE,EAAqBE,EAAuBE,IAGtE,cAAC1G,EAAmBoH,SAApB,CAA6BhE,MAAOvC,EAApC,SACE,qBAAKjB,UAAU,OAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE8B,cAhFV,WACE2E,GAA0B,IAgFlBzE,WA7EV,WACE2E,GAAuB,IA6Ef/E,aAtFV,WACEiF,GAAyB,IAsFjBY,aAAcP,EACdjF,MAAOA,EACPlB,WA7HV,SAAwBoB,GACtB,IAAMuF,EAAUvF,EAAKvB,MAAMQ,MAAK,SAAAC,GAAC,OAAIA,EAAEZ,MAAQQ,EAAYR,OAC3D4D,EAAIsD,SAASxF,EAAK1B,IAAKiH,EAAU,SAAW,OACzC1C,MAAK,SAAC4C,GACL9B,GAAS,SAAC+B,GAAD,OAAWA,EAAM3F,KAAI,SAAC4F,GAAD,OAAOA,EAAErH,MAAQ0B,EAAK1B,IAAMmH,EAAUE,WAErExB,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,iBAuHpCvF,aAlHV,SAA0BmB,GACxBkC,EAAI0D,WAAW5F,EAAKZ,IACjByD,MAAK,WACJc,GAAS,SAAC+B,GAAD,OAAWA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAErH,MAAQ0B,EAAKZ,YAExD+E,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,iBA6GpC1F,YAAaqG,IAEf,cAAC,EAAD,IAEA,cAAC,EAAD,CACE3E,OAAQiE,EACRhE,QAAS2D,EACT7D,aAAcyD,EACd/C,aA1EV,SAA0BiF,GACxB5D,EAAI6D,aAAaD,GACdjD,MAAK,SAAAE,GACJW,EAAeX,GACfiB,OAEDG,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,mBAqEtC,cAAC4B,EAAD,CACE5F,OAAQmE,EACRlE,QAAS2D,EACT7D,aAAcyD,EACd/D,WAxDV,SAAwBG,GACtBkC,EAAI+D,QAAQjG,GACT6C,MAAK,SAAA4C,GACJ9B,EAAS,CAAC8B,GAAF,mBAAc3F,KACtBkE,OAEDG,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,mBAmDtC,cAAC8B,EAAD,CACE9F,OAAQqE,EACRpE,QAAS2D,EACT7D,aAAcyD,EACdhC,eA1EV,SAA4BlC,GAC1BwC,EAAIiE,WAAWzG,GACZmD,MAAK,SAAAE,GACJW,EAAeX,GACfiB,OAEDG,OAAM,SAACf,GACNa,QAAQC,IAAR,0GAAoCd,EAAIgB,mBAqEtC,cAAC,EAAD,CACEpE,KAAM6E,EACNxE,QAAS2D,EACT5D,OAAQuE,EACRxE,aAAcyD,YCpLXwC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzD,MAAK,YAAkD,IAA/C0D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5B,SAAS6B,eAAe,SAM1BX,M","file":"static/js/main.2b2cd82c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6129e9de.svg\";","import logo from '../images/logo/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ _id, name, link, likes, onCardClick, owner, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = owner._id === currentUser._id;\r\n    const isLiked = likes.some(i => i._id === currentUser._id);\r\n    let cardLikeButtonClassName;\r\n    if (isLiked) {\r\n        cardLikeButtonClassName = \"place__like-button_active\";\r\n    }\r\n\r\n\r\n    function handleClick() {\r\n        onCardClick({ name, link, onCardClick });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike({ _id, likes });\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete({ id: _id });\r\n    }\r\n\r\n    return (\r\n        <article className=\"place\">\r\n            {isOwn && <button onClick={handleDeleteClick} type=\"button\" className=\"button place__delete-button\"></button>}\r\n            <div className=\"place__image-container\">\r\n                <img onClick={handleClick} className=\"place__image\" src={link} alt={name} />\r\n            </div>\r\n            <div className=\"place__caption\">\r\n                <h2 className=\"place__title\">{name}</h2>\r\n                <div>\r\n                    <button onClick={handleLikeClick} type=\"button\" className={`button place__like-button ${cardLikeButtonClassName}`}></button>\r\n                    <p className=\"place__like-score\">{likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div onClick={props.onEditAvatar} className=\"profile__avatar\">\r\n                    <img className=\"profile__img\" src={currentUser.avatar} alt=\"Аватарка\" />\r\n                </div>\r\n\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__username\">{currentUser.name}</h1>\r\n                    <button onClick={props.onEditProfile} type=\"button\" className=\"button profile__edit-button\"></button>\r\n                    <p className=\"profile__job\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={props.onAddPlace} type=\"button\" className=\"button profile__add-button\"></button>\r\n            </section>\r\n\r\n            <section className=\"places\">\r\n                {\r\n                    props.cards.map((card) => <Card\r\n                        key={card._id}\r\n                        _id={card._id}\r\n                        name={card.name}\r\n                        link={card.link}\r\n                        likes={card.likes}\r\n                        onCardClick={props.onCardClick}\r\n                        owner={card.owner}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}\r\n                    />)\r\n                }\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">&copy; 2021 Mesto Russia</footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n\r\n    return (\r\n        <div onClick={props.onPopupClick} className={`popup popup_type_big-image ${props.isOpen ? \"popup_opened\" : \"\"}`} >\r\n            <div className=\"popup__container popup__container_type_big-image\">\r\n                <button onClick={props.onClose} type=\"button\" className=\"button popup__close-button popup__close-button_type_big-image\"></button>\r\n                <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n                <p className=\"popup__caption\">{props.card.name}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","function PopupWithForm(props) {\r\n    return (\r\n        <div onClick={props.onPopupClick} className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`}>\r\n            <div className={`popup__container popup__container_type_${props.name}`}>\r\n                <button onClick={props.onClose} type=\"button\" className=\"button popup__close-button\"></button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form onSubmit={props.onSubmit} name={props.name} className=\"popup__form\" noValidate>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__submit-button\">{props.button}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useState } from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onPopupClick, onUpdateUser }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit\"\r\n            title=\"Редактировать профиль\"\r\n            button=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onPopupClick={onPopupClick}>\r\n            <input value={name || ''} onChange={handleChangeName} id=\"name\" type=\"text\" name=\"name\" placeholder=\"Введите имя\"\r\n                className=\"popup__input popup__input_type_name\" required minLength=\"2\" maxLength=\"40\" />\r\n            <span id=\"name-error\" className=\"popup__error\"></span>\r\n            <input value={description || ''} onChange={handleChangeDescription} id=\"about\" type=\"text\" name=\"about\" placeholder=\"Род деятельности\"\r\n                className=\"popup__input popup__input_type_job\" required minLength=\"2\" maxLength=\"200\" />\r\n            <span id=\"about-error\" className=\"popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onPopupClick, onUpdateAvatar }) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Обновить аватар\"\r\n            button=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onPopupClick={onPopupClick}>\r\n            <input ref={avatarRef} id=\"avatar\" type=\"url\" name=\"avatar\" placeholder=\"Введите ссылку\"\r\n                className=\"popup__input popup__input_type_avatar\" required />\r\n            <span id=\"avatar-error\" className=\"popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import { useState } from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onPopupClick, onAddPlace }) {\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name,\r\n            link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            title=\"Новое место\"\r\n            button=\"Создать\"\r\n            onSubmit={handleSubmit}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onPopupClick={onPopupClick}>\r\n            <input value={name} onChange={handleChangeName} id=\"placeName\" type=\"text\" name=\"name\" placeholder=\"Название\"\r\n                className=\"popup__input popup__input_type_place\" required minLength=\"2\" maxLength=\"30\" />\r\n            <span id=\"placeName-error\" className=\"popup__error\"></span>\r\n            <input value={link} onChange={handleChangeLink} id=\"link\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_type_link\" required />\r\n            <span id=\"link-error\" className=\"popup__error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","class Api {\r\n    constructor({ baseUrl, headers }) {\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n\r\n    getAppInfo() {\r\n        return Promise.all([this.getUserInfo(), this.getCardList()])\r\n    }\r\n\r\n    getCardList() {\r\n        return fetch(this._baseUrl + '/cards', {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(this._baseUrl + '/cards', {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(this._baseUrl + '/users/me', {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    saveUserInfo(data) {\r\n        return fetch(this._baseUrl + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(this._baseUrl + `/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    likeCard(id, method) {\r\n        return fetch(this._baseUrl + `/cards/likes/${id}`, {\r\n            method: `${method}`,\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    editAvatar(avatar) {\r\n        return fetch(this._baseUrl + '/users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(avatar),\r\n        })\r\n            .then(this._checkResponse);\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) { return res.json() }\r\n        return Promise.reject(res);\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-29',\r\n    headers: {\r\n        authorization: 'abaeba32-e658-413f-86b2-3d2488ef3044',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","import Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { useState, useEffect } from \"react\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  //Получение карточек при монтировании\n  useEffect(() => {\n    api.getCardList()\n      .then(data => {\n        console.log(data);\n        setCards(data);\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }, []);\n\n  //Получение информации о пользователе при монтировании\n  useEffect(() => {\n    api.getUserInfo()\n      .then(data => {\n        setCurrentUser(data);\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }, []);\n\n  //Функция лайка карточки\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.likeCard(card._id, isLiked ? 'DELETE' : 'PUT')\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }\n\n  //Функция удаления карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card.id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card.id));\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }\n\n  //Функция закрытия попапа при нажатии на бэк\n  function handlePopupClick(event) {\n    if (event.target.classList.contains(\"popup\")) {\n      closeAllPopups()\n    }\n  }\n\n  //Состояния попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isBigImagePopupOpen, setIsBigImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsBigImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsBigImagePopupOpen(false);\n  }\n\n  //Обновление информации о пользователе\n  function handleUpdateUser(user) {\n    api.saveUserInfo(user)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }\n\n  //Обновление аватара\n  function handleUpdateAvatar(avatar) {\n    api.editAvatar(avatar)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }\n\n  //Добавление новой карточки\n  function handleAddPlace(card) {\n    api.addCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(`Что-то пошло не так: ${res.statusText}`);\n      });\n  }\n\n  //Закрытие попапов на Esc\n  useEffect(() => {\n    if (isEditProfilePopupOpen || isAddPlacePopupOpen || isEditAvatarPopupOpen || isBigImagePopupOpen) {\n\n      function handleEsc(event) {\n        if (event.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener(\"keydown\", handleEsc)\n\n      return () => {\n        document.removeEventListener(\"keydown\", handleEsc)\n      }\n    }\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isBigImagePopupOpen])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onImagePopup={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onCardClick={handleCardClick}\n          />\n          <Footer />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onPopupClick={handlePopupClick}\n            onUpdateUser={handleUpdateUser} />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onPopupClick={handlePopupClick}\n            onAddPlace={handleAddPlace} />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onPopupClick={handlePopupClick}\n            onUpdateAvatar={handleUpdateAvatar} />\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={isBigImagePopupOpen}\n            onPopupClick={handlePopupClick} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}